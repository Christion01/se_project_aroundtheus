!function(){"use strict";class e{constructor(e,t){this._formEl=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_setEventListeners(){this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this.submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_showInputError(e){const t=document.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=document.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._formEl.reset(),this._toggleButtonState(),this._inputEls.forEach((e=>{this._hideInputError(e)}))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(e){return!this._inputEls.every((e=>e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this.submitButton.classList.add(this._inactiveButtonClass),this.submitButton.disabled=!0):(this.submitButton.classList.remove(this._inactiveButtonClass),this.submitButton.disabled=!1)}}class t{constructor(e,t,s){let{name:n,link:i}=e;this.name=n,this.link=i,this._cardSelector=t,this._handleImageClick=s}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeBtn()})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this)}))}_handleLikeBtn(){this._likeButton.classList.toggle("card__like-button_active")}_handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardTitleEl.textContent=this.name,this._cardImageEl.src=this.link,this._cardImageEl.alt=this.name,this._setEventListeners(),this._cardElement}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscape)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscape)}_handleEscape=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{e.target.classList.contains("modal_opened")&&this.close(),e.target.classList.contains("modal__close-button")&&this.close()}))}}class n extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputItems=this._popupForm.querySelectorAll(".modal__input")}close(){this._popupForm.reset(),super.close()}_getInputValues(){const e={};return this._inputItems.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputItems.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}}const i=document.querySelector("#profile-edit-btn"),r=document.querySelector("#profile-edit-modal").querySelector("#edit-profile-form"),o=document.querySelector("#profile-add-button"),a=document.querySelector("#profile-add-modal").querySelector("#add-card-form"),l=document.querySelector("#preview-image-modal"),c=(document.querySelector("#image-preview"),l.querySelector("#modal__preview_name"),document.querySelector("#profile-title-input"),document.querySelector("#profile-description-input"),{formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal_error_visible"}),u=new n("#profile-add-modal",(function(e){E.addItem(h(e)),u.close()}));u.setEventListeners();const d=new class extends s{constructor(e){super({popupSelector:e}),this._popupImage=this._popupElement.querySelector(".modal__preview-image"),this._popupName=this._popupElement.querySelector(".modal__preview-name")}open(e){let{name:t,link:s}=e;this._popupImage.src=s,this._popupImage.alt=t,this._popupName.textContent=t,super.open()}}("#preview-image-modal");d.setEventListeners();const p=new n("#profile-edit-modal",(function(e){m.setUserInfo(e.name,e.description),p.close()}));p.setEventListeners();const m=new class{constructor(e,t){this._name=document.querySelector(e),this._description=document.querySelector(t)}getUserInfo(){return{name:this._name.textContent,description:this._description.textContent}}setUserInfo(e,t){this._name.textContent=e,this._description.textContent=t}}(".profile__title",".profile__description");function _(e){d.open(e)}function h(e){return new t(e,"#card-template",_).getView()}const E=new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{let{name:t,link:s}=e;const n={name:t,link:s},i=this._renderer(n);this.addItem(i)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:h},".cards__list");E.renderItems(),i.addEventListener("click",(()=>{const e=m.getUserInfo();S.resetValidation(),p.setInputValues(e),p.open()})),o.addEventListener("click",(()=>{u.open(),v.resetValidation()}));const v=new e(c,a),S=new e(c,r);S.enableValidation(),v.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQVlDLEVBQVFDLEdBQ2xCQyxLQUFLQyxRQUFVRixFQUNmQyxLQUFLRSxlQUFpQkosRUFBT0ssY0FDN0JILEtBQUtJLHNCQUF3Qk4sRUFBT08scUJBQ3BDTCxLQUFLTSxxQkFBdUJSLEVBQU9TLG9CQUNuQ1AsS0FBS1EsaUJBQW1CVixFQUFPVyxnQkFDL0JULEtBQUtVLFlBQWNaLEVBQU9hLFVBQzVCLENBR0FDLGtCQUFBQSxHQUNFWixLQUFLYSxVQUFZLElBQUliLEtBQUtDLFFBQVFhLGlCQUFpQmQsS0FBS0UsaUJBQ3hERixLQUFLZSxhQUFlZixLQUFLQyxRQUFRZSxjQUFjaEIsS0FBS0ksdUJBQ3BESixLQUFLYSxVQUFVSSxTQUFTQyxJQUN0QkEsRUFBUUMsaUJBQWlCLFNBQVVDLElBQ2pDcEIsS0FBS3FCLG9CQUFvQkgsR0FDekJsQixLQUFLc0Isb0JBQW9CLEdBQ3pCLEdBRU4sQ0FHQUMsZUFBQUEsQ0FBZ0JMLEdBQ2QsTUFBTU0sRUFBaUJDLFNBQVNULGNBQWUsSUFBR0UsRUFBUVEsWUFDMURSLEVBQVFTLFVBQVVDLElBQUk1QixLQUFLUSxrQkFDM0JnQixFQUFlSyxZQUFjWCxFQUFRWSxrQkFDckNOLEVBQWVHLFVBQVVDLElBQUk1QixLQUFLVSxZQUNwQyxDQUNBcUIsZUFBQUEsQ0FBZ0JiLEdBQ2QsTUFBTU0sRUFBaUJDLFNBQVNULGNBQWUsSUFBR0UsRUFBUVEsWUFDMURSLEVBQVFTLFVBQVVLLE9BQU9oQyxLQUFLUSxrQkFDOUJnQixFQUFlSyxZQUFjLEdBQzdCTCxFQUFlRyxVQUFVSyxPQUFPaEMsS0FBS1UsWUFDdkMsQ0FHQXVCLGdCQUFBQSxHQUNFakMsS0FBS0MsUUFBUWtCLGlCQUFpQixVQUFXZSxJQUN2Q0EsRUFBRUMsZ0JBQWdCLElBRXBCbkMsS0FBS1ksb0JBQ1AsQ0FFQXdCLGVBQUFBLEdBQ0VwQyxLQUFLQyxRQUFRb0MsUUFDYnJDLEtBQUtzQixxQkFDTHRCLEtBQUthLFVBQVVJLFNBQVNDLElBQ3RCbEIsS0FBSytCLGdCQUFnQmIsRUFBUSxHQUVqQyxDQUdBRyxtQkFBQUEsQ0FBb0JILEdBQ2JBLEVBQVFvQixTQUFTQyxNQUdwQnZDLEtBQUsrQixnQkFBZ0JiLEdBRnJCbEIsS0FBS3VCLGdCQUFnQkwsRUFJekIsQ0FDQXNCLGdCQUFBQSxDQUFpQkMsR0FDZixPQUFRekMsS0FBS2EsVUFBVTZCLE9BQU94QixHQUFZQSxFQUFRb0IsU0FBU0MsT0FDN0QsQ0FHQWpCLGtCQUFBQSxHQUNNdEIsS0FBS3dDLG9CQUNQeEMsS0FBS2UsYUFBYVksVUFBVUMsSUFBSTVCLEtBQUtNLHNCQUNyQ04sS0FBS2UsYUFBYTRCLFVBQVcsSUFFN0IzQyxLQUFLZSxhQUFhWSxVQUFVSyxPQUFPaEMsS0FBS00sc0JBQ3hDTixLQUFLZSxhQUFhNEIsVUFBVyxFQUVqQyxFQ3pFYSxNQUFNQyxFQUNuQi9DLFdBQUFBLENBQVdnRCxFQUFpQkMsRUFBY0MsR0FBa0IsSUFBaEQsS0FBRUMsRUFBSSxLQUFFQyxHQUFNSixFQUN4QjdDLEtBQUtnRCxLQUFPQSxFQUNaaEQsS0FBS2lELEtBQU9BLEVBQ1pqRCxLQUFLa0QsY0FBZ0JKLEVBQ3JCOUMsS0FBS21ELGtCQUFvQkosQ0FDM0IsQ0FFQW5DLGtCQUFBQSxHQUVFWixLQUFLb0QsWUFBWWpDLGlCQUFpQixTQUFTLEtBQ3pDbkIsS0FBS3FELGdCQUFnQixJQUd2QnJELEtBQUtzRCxjQUFjbkMsaUJBQWlCLFNBQVMsS0FDM0NuQixLQUFLdUQsbUJBQW1CLElBRTFCdkQsS0FBS3dELGFBQWFyQyxpQkFBaUIsU0FBUyxLQUMxQ25CLEtBQUttRCxrQkFBa0JuRCxLQUFLLEdBRWhDLENBRUFxRCxjQUFBQSxHQUNFckQsS0FBS29ELFlBQVl6QixVQUFVOEIsT0FBTywyQkFDcEMsQ0FFQUYsaUJBQUFBLEdBQ0V2RCxLQUFLMEQsYUFBYTFCLFNBQ2xCaEMsS0FBSzBELGFBQWUsSUFDdEIsQ0FFQUMsT0FBQUEsR0FxQkUsT0FwQkEzRCxLQUFLMEQsYUFBZWpDLFNBQ2pCVCxjQUFjaEIsS0FBS2tELGVBQ25CVSxRQUFRNUMsY0FBYyxTQUN0QjZDLFdBQVUsR0FHYjdELEtBQUs4RCxhQUFlOUQsS0FBSzBELGFBQWExQyxjQUFjLGdCQUNwRGhCLEtBQUtvRCxZQUFjcEQsS0FBSzBELGFBQWExQyxjQUFjLHNCQUNuRGhCLEtBQUt3RCxhQUFleEQsS0FBSzBELGFBQWExQyxjQUFjLGdCQUNwRGhCLEtBQUtzRCxjQUFnQnRELEtBQUswRCxhQUFhMUMsY0FDckMsd0JBRUZoQixLQUFLOEQsYUFBYWpDLFlBQWM3QixLQUFLZ0QsS0FDckNoRCxLQUFLd0QsYUFBYU8sSUFBTS9ELEtBQUtpRCxLQUM3QmpELEtBQUt3RCxhQUFhUSxJQUFNaEUsS0FBS2dELEtBRzdCaEQsS0FBS1kscUJBR0VaLEtBQUswRCxZQUNkLEVDckRhLE1BQU1PLEVBQ25CcEUsV0FBQUEsQ0FBV2dELEdBQW9CLElBQW5CLGNBQUVxQixHQUFlckIsRUFDM0I3QyxLQUFLbUUsY0FBZ0IxQyxTQUFTVCxjQUFja0QsRUFDOUMsQ0FDQUUsSUFBQUEsR0FDRXBFLEtBQUttRSxjQUFjeEMsVUFBVUMsSUFBSSxnQkFDakNILFNBQVNOLGlCQUFpQixVQUFXbkIsS0FBS3FFLGNBQzVDLENBRUFDLEtBQUFBLEdBQ0V0RSxLQUFLbUUsY0FBY3hDLFVBQVVLLE9BQU8sZ0JBQ3BDUCxTQUFTOEMsb0JBQW9CLFVBQVd2RSxLQUFLcUUsY0FDL0MsQ0FFQUEsY0FBaUJqRCxJQUNDLFdBQVpBLEVBQUlvRCxLQUNOeEUsS0FBS3NFLE9BQ1AsRUFHRkcsaUJBQUFBLEdBRUV6RSxLQUFLbUUsY0FBY2hELGlCQUFpQixTQUFVQyxJQUN4Q0EsRUFBSXNELE9BQU8vQyxVQUFVZ0QsU0FBUyxpQkFDaEMzRSxLQUFLc0UsUUFFSGxELEVBQUlzRCxPQUFPL0MsVUFBVWdELFNBQVMsd0JBQ2hDM0UsS0FBS3NFLE9BQ1AsR0FFSixFQzVCYSxNQUFNTSxVQUFzQlgsRUFDekNwRSxXQUFBQSxDQUFZcUUsRUFBZVcsR0FDekJDLE1BQU0sQ0FBRVosa0JBQ1JsRSxLQUFLK0UsV0FBYS9FLEtBQUttRSxjQUFjbkQsY0FBYyxnQkFDbkRoQixLQUFLZ0Ysa0JBQW9CSCxFQUN6QjdFLEtBQUtpRixZQUFjakYsS0FBSytFLFdBQVdqRSxpQkFBaUIsZ0JBQ3RELENBQ0F3RCxLQUFBQSxHQUNFdEUsS0FBSytFLFdBQVcxQyxRQUNoQnlDLE1BQU1SLE9BQ1IsQ0FFQVksZUFBQUEsR0FDRSxNQUFNQyxFQUFjLENBQUMsRUFJckIsT0FIQW5GLEtBQUtpRixZQUFZaEUsU0FBU21FLElBQ3hCRCxFQUFZQyxFQUFVcEMsTUFBUW9DLEVBQVVDLEtBQUssSUFFeENGLENBQ1QsQ0FFQUcsY0FBQUEsQ0FBZUMsR0FDYnZGLEtBQUtpRixZQUFZaEUsU0FBU3VFLElBQ3hCQSxFQUFNSCxNQUFRRSxFQUFLQyxFQUFNeEMsS0FBSyxHQUVsQyxDQUVBeUIsaUJBQUFBLEdBQ0V6RSxLQUFLK0UsV0FBVzVELGlCQUFpQixVQUFXQyxJQUMxQ0EsRUFBSWUsaUJBQ0puQyxLQUFLZ0Ysa0JBQWtCaEYsS0FBS2tGLGtCQUFrQixJQUdoREosTUFBTUwsbUJBQ1IsRUNuQ0ssTUE0Qk1nQixFQUFpQmhFLFNBQVNULGNBQWMscUJBRXhDMEUsRUFEbUJqRSxTQUFTVCxjQUFjLHVCQUVwQ0EsY0FBYyxzQkFHcEIyRSxFQUFnQmxFLFNBQVNULGNBQWMsdUJBRXZDNEUsRUFEZW5FLFNBQVNULGNBQWMsc0JBQ1hBLGNBQWMsa0JBR3pDNkUsRUFBb0JwRSxTQUFTVCxjQUFjLHdCQWEzQ2xCLEdBWmUyQixTQUFTVCxjQUFjLGtCQUN4QjZFLEVBQWtCN0UsY0FDM0Msd0JBSStCUyxTQUFTVCxjQUFjLHdCQUNqQlMsU0FBU1QsY0FDOUMsOEJBSW9CLENBQ3BCOEUsYUFBYyxlQUNkM0YsY0FBZSxnQkFDZkUscUJBQXNCLGlCQUN0QkUsb0JBQXFCLHlCQUNyQkUsZ0JBQWlCLDBCQUNqQkUsV0FBWSx3QkN0Q1JvRixFQUFlLElBQUluQixFQUN2QixzQkFzQ0YsU0FBNkJvQixHQUMzQkMsRUFBYUMsUUFBUUMsRUFBV0gsSUFDaENELEVBQWF6QixPQUNmLElBdENBeUIsRUFBYXRCLG9CQUViLE1BQU0yQixFQUFhLElDeEJKLGNBQTZCbkMsRUFDMUNwRSxXQUFBQSxDQUFZcUUsR0FDVlksTUFBTSxDQUFFWixrQkFDUmxFLEtBQUtxRyxZQUFjckcsS0FBS21FLGNBQWNuRCxjQUNwQyx5QkFFRmhCLEtBQUtzRyxXQUFhdEcsS0FBS21FLGNBQWNuRCxjQUFjLHVCQUNyRCxDQUVBb0QsSUFBQUEsQ0FBSXZCLEdBQWlCLElBQWhCLEtBQUVHLEVBQUksS0FBRUMsR0FBTUosRUFDakI3QyxLQUFLcUcsWUFBWXRDLElBQU1kLEVBQ3ZCakQsS0FBS3FHLFlBQVlyQyxJQUFNaEIsRUFDdkJoRCxLQUFLc0csV0FBV3pFLFlBQWNtQixFQUM5QjhCLE1BQU1WLE1BQ1IsR0RVb0Msd0JBQ3RDZ0MsRUFBVzNCLG9CQUVYLE1BQU04QixFQUFtQixJQUFJM0IsRUFDM0IsdUJBa0NGLFNBQWlDNEIsR0FDL0JDLEVBQVNDLFlBQVlGLEVBQVN4RCxLQUFNd0QsRUFBU0csYUFDN0NKLEVBQWlCakMsT0FDbkIsSUFsQ0FpQyxFQUFpQjlCLG9CQUlqQixNQUFNZ0MsRUFBVyxJRXJDRixNQUNiNUcsV0FBQUEsQ0FBWStHLEVBQWNDLEdBQ3hCN0csS0FBSzhHLE1BQVFyRixTQUFTVCxjQUFjNEYsR0FDcEM1RyxLQUFLK0csYUFBZXRGLFNBQVNULGNBQWM2RixFQUM3QyxDQUVBRyxXQUFBQSxHQUNFLE1BQU8sQ0FDTGhFLEtBQU1oRCxLQUFLOEcsTUFBTWpGLFlBQ2pCOEUsWUFBYTNHLEtBQUsrRyxhQUFhbEYsWUFFbkMsQ0FFQTZFLFdBQUFBLENBQVkxRCxFQUFNMkQsR0FDaEIzRyxLQUFLOEcsTUFBTWpGLFlBQWNtQixFQUN6QmhELEtBQUsrRyxhQUFhbEYsWUFBYzhFLENBQ2xDLEdGcUI0QixrQkFBbUIseUJBRWpELFNBQVM1RCxFQUFpQmtFLEdBQ3hCYixFQUFXaEMsS0FBSzZDLEVBQ2xCLENBSUEsU0FBU2QsRUFBV0gsR0FFbEIsT0FEYSxJQUFJcEQsRUFBS29ELEVBQVUsaUJBQWtCakQsR0FDdENZLFNBQ2QsQ0FFQSxNQUFNc0MsRUFBZSxJR2xETixNQUNicEcsV0FBQUEsQ0FBV2dELEVBQXNCcUUsR0FBbUIsSUFBeEMsTUFBRUMsRUFBSyxTQUFFQyxHQUFVdkUsRUFDN0I3QyxLQUFLcUgsT0FBU0YsRUFDZG5ILEtBQUtzSCxVQUFZRixFQUNqQnBILEtBQUt1SCxXQUFhOUYsU0FBU1QsY0FBY2tHLEVBQzNDLENBRUFNLFdBQUFBLEdBQ0V4SCxLQUFLcUgsT0FBT3BHLFNBQVF3RyxJQUFvQixJQUFuQixLQUFFekUsRUFBSSxLQUFFQyxHQUFNd0UsRUFDakMsTUFBTUMsRUFBVSxDQUNkMUUsS0FBTUEsRUFDTkMsS0FBTUEsR0FFRjBFLEVBQVUzSCxLQUFLc0gsVUFBVUksR0FDL0IxSCxLQUFLa0csUUFBUXlCLEVBQVEsR0FFekIsQ0FFQXpCLE9BQUFBLENBQVF3QixHQUNOMUgsS0FBS3VILFdBQVdLLFFBQVFGLEVBQzFCLEdIK0JBLENBQUVQLE1EbkR3QixDQUMxQixDQUNFbkUsS0FBTSxrQkFDTkMsS0FBTSxzR0FFUixDQUNFRCxLQUFNLGNBQ05DLEtBQU0seUdBRVIsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSw0R0FFUixDQUNFRCxLQUFNLFVBQ05DLEtBQU0scUdBRVIsQ0FDRUQsS0FBTSx3QkFDTkMsS0FBTSxxR0FFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLG1HQzRCZW1FLFNBQVVqQixHQUNqQyxnQkFHRkYsRUFBYXVCLGNBZ0JiL0IsRUFBZXRFLGlCQUFpQixTQUFTLEtBQ3ZDLE1BQU1xRixFQUFXQyxFQUFTTyxjQUMxQmEsRUFBcUJ6RixrQkFDckJtRSxFQUFpQmpCLGVBQWVrQixHQUNoQ0QsRUFBaUJuQyxNQUFNLElBR3pCdUIsRUFBY3hFLGlCQUFpQixTQUFTLEtBQ3RDNEUsRUFBYTNCLE9BQ2IwRCxFQUFrQjFGLGlCQUFpQixJQUlyQyxNQUFNMEYsRUFBb0IsSUFBSWxJLEVBQWNFLEVBQVE4RixHQUM5Q2lDLEVBQXVCLElBQUlqSSxFQUFjRSxFQUFRNEYsR0FFdkRtQyxFQUFxQjVGLG1CQUNyQjZGLEVBQWtCN0Ysa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbCkge1xuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICB9XG5cbiAgLy9FdmVudCBMaXN0ZW5lcnNcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy9JbnB1dCBFcnJvcnNcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICAvL1ZhbGlkYXRpb25cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsLnJlc2V0KCk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vSW5wdXQgVmFsaWRpdHlcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICAvL0J1dHRvbiBTdGF0ZVxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmsgfSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmxpbmsgPSBsaW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBjYXJkX19saWtlLWJ1dHRvblxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdG4oKTtcbiAgICB9KTtcbiAgICAvLyBjYXJkX19kZWxldGUtYnV0dG9uXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUJ0bigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICAvL2dldCB0aGUgY2FyZCB2aWV3LFxuXG4gICAgdGhpcy5fY2FyZFRpdGxlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXG4gICAgKTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLmxpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5uYW1lO1xuXG4gICAgLy9zZXQgZXZlbnQgbGlzdGVuZXJzLFxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAvL3JldHVybiB0aGUgY2FyZFxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGUpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NhcGUgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy9zZXQgbGlzdGVuZXJzIGZvciBwb3B1cCBmb3IgdGhlIGNsb3NlIGJ1dHRvbiBhbmQgb3ZlcmxheSBvZiB0aGUgcG9wdXAgd2luZG93XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlLWJ1dHRvblwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0SXRlbXMgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0SXRlbXMuZm9yRWFjaCgoaW5wdXRJdGVtKSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dEl0ZW0ubmFtZV0gPSBpbnB1dEl0ZW0udmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0SXRlbXMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcblxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuLy9Qcm9maWxlXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idG5cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9XG4gIHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtZm9ybVwiKTtcblxuLy9BZGQgQ2FyZFxuZXhwb3J0IGNvbnN0IGFkZE5ld0NhcmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBjYXJkQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLW1vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IGNhcmRBZGRGb3JtID0gY2FyZEFkZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybVwiKTtcblxuLy9QcmV2aWV3XG5leHBvcnQgY29uc3QgcHJldmlld0ltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgcHJldmlld0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1wcmV2aWV3XCIpO1xuZXhwb3J0IGNvbnN0IHByZXZpZXdOYW1lID0gcHJldmlld0ltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjbW9kYWxfX3ByZXZpZXdfbmFtZVwiXG4pO1xuXG4vL0lucHV0IERhdGFcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxuKTtcblxuLy9FeHBvcnRcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9lcnJvcl92aXNpYmxlXCIsXG59O1xuIiwiaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgaW5pdGlhbENhcmRzLFxuICBwcm9maWxlRWRpdEJ0bixcbiAgYWRkTmV3Q2FyZEJ0bixcbiAgcHJvZmlsZUVkaXRGb3JtLFxuICBjYXJkQWRkRm9ybSxcbiAgY29uZmlnLFxuICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy9Qb3B1cHNcblxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtYWRkLW1vZGFsXCIsXG4gIGhhbmRsZUFkZENhcmRTdWJtaXRcbik7XG5uZXdDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcm9maWxlRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxuKTtcbnByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy9Vc2VySW5mb1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcIi5wcm9maWxlX190aXRsZVwiLCBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcblxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhjYXJkKSB7XG4gIGltYWdlUG9wdXAub3BlbihjYXJkKTtcbn1cblxuLy9DYXJkc1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVJbWFnZUNsaWNrKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufVxuXG5jb25zdCBzZWN0aW9uQ2FyZHMgPSBuZXcgU2VjdGlvbihcbiAgeyBpdGVtczogaW5pdGlhbENhcmRzLCByZW5kZXJlcjogY3JlYXRlQ2FyZCB9LFxuICBcIi5jYXJkc19fbGlzdFwiXG4pO1xuXG5zZWN0aW9uQ2FyZHMucmVuZGVySXRlbXMoKTtcblxuLy9TdWJtaXNzaW9uc1xuXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGNhcmREYXRhKSB7XG4gIHNlY3Rpb25DYXJkcy5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZERhdGEpKTtcbiAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0KHVzZXJEYXRhKSB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmRlc2NyaXB0aW9uKTtcbiAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZSgpO1xufVxuXG4vL0V2ZW50IExpc3RlbmVyc1xuXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwcm9maWxlRWRpdFBvcHVwLnNldElucHV0VmFsdWVzKHVzZXJEYXRhKTtcbiAgcHJvZmlsZUVkaXRQb3B1cC5vcGVuKCk7XG59KTtcblxuYWRkTmV3Q2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdDYXJkUG9wdXAub3BlbigpO1xuICBjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vL1ZhbGlkYXRpb25cbmNvbnN0IGNhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBjYXJkQWRkRm9ybSk7XG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZUVkaXRGb3JtKTtcblxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCJcbiAgICApO1xuICAgIHRoaXMuX3BvcHVwTmFtZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LW5hbWVcIik7XG4gIH1cblxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cE5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoeyBuYW1lLCBsaW5rIH0pID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGxpbms6IGxpbmssXG4gICAgICB9O1xuICAgICAgY29uc3QgbmV3SXRlbSA9IHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQpO1xuICAgICAgdGhpcy5hZGRJdGVtKG5ld0l0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJmb3JtRWwiLCJ0aGlzIiwiX2Zvcm1FbCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdWJtaXRCdXR0b24iLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImlucHV0RWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZUVsIiwiZG9jdW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJyZW1vdmUiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmVzZXRWYWxpZGF0aW9uIiwicmVzZXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImlucHV0TGlzdCIsImV2ZXJ5IiwiZGlzYWJsZWQiLCJDYXJkIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJuYW1lIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9saWtlQnV0dG9uIiwiX2hhbmRsZUxpa2VCdG4iLCJfZGVsZXRlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfY2FyZEltYWdlRWwiLCJ0b2dnbGUiLCJfY2FyZEVsZW1lbnQiLCJnZXRWaWV3IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGVFbCIsInNyYyIsImFsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJvcGVuIiwiX2hhbmRsZUVzY2FwZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0SXRlbXMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0SXRlbSIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJkYXRhIiwiaW5wdXQiLCJwcm9maWxlRWRpdEJ0biIsInByb2ZpbGVFZGl0Rm9ybSIsImFkZE5ld0NhcmRCdG4iLCJjYXJkQWRkRm9ybSIsInByZXZpZXdJbWFnZU1vZGFsIiwiZm9ybVNlbGVjdG9yIiwibmV3Q2FyZFBvcHVwIiwiY2FyZERhdGEiLCJzZWN0aW9uQ2FyZHMiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsImltYWdlUG9wdXAiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cE5hbWUiLCJwcm9maWxlRWRpdFBvcHVwIiwidXNlckRhdGEiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9uYW1lIiwiX2Rlc2NyaXB0aW9uIiwiZ2V0VXNlckluZm8iLCJjYXJkIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiX3JlZjIiLCJlbGVtZW50IiwibmV3SXRlbSIsInByZXBlbmQiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImNhcmRGb3JtVmFsaWRhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==